<section>
  <app-custom-search (searchQuery)="onSearch($event)"></app-custom-search>
  <app-filter-control
    [(filterQuery)]="filterQuery"
    [filterOptions]="filterOptions"
    [itemsCountLabel]="todos().length + ' | Todos'"
    [isSearchBoxVisible]="false"
    (isAscOutput)="onSort()"
  ></app-filter-control>

  <!-- todos list -->
  @if(todos().length) {

  <div class="mt-8">
    <div class="flex">
      <button mat-button (click)="accordion().openAll()">Expand All</button>
      <button mat-button (click)="accordion().closeAll()">Collapse All</button>
      <button mat-button class="ml-auto">Create new todo</button>
    </div>
    <mat-accordion multi>
      @for (todo of todosSignal(); track todo.id) {
      <app-todo [todo]="todo" (complete)="updateTodo($event)"></app-todo>
      }
    </mat-accordion>
  </div>

  } @else {
  <app-nothing-found></app-nothing-found>
  }
</section>
